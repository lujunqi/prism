<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>测试表单效验</title>
<script type="text/javascript" src="scripts/jquery.js"></script>
<script type="text/javascript" src="scripts/jquery.prism.js"></script>
<script type="text/javascript" src="scripts/validation.js"></script>
<script type="text/javascript" src="lhgdialog/lhgdialog.min.js?skin=dblue"></script>
<script type="text/javascript">
$(init);
var param = {};
var req = {};

function init(){
	var obj = $(".rd");
	
	for(var i=0;i<obj.length;i++){
		if(obj.eq(i).val()=="y"){
			obj.eq(i).attr("checked",true);
		}
	}
	$("#valida1").click(function(){
		$("#valida").removeAttr("disabled");
		$.dialog.tips('页面生成完毕',1,'tips.gif');
	});

	$("#valida").click(function(){
		$("#valida").attr("disabled",true);
		$.dialog.tips('页面生成中...',600,'loading.gif');
		/*
	var pass = $("#t17").formValidator(show);
	alert(pass);
	if(pass){
		//go
	}
		if(isNum(xx)){
		}
		*/
		//$("#test42").prism(param);
		//alert($("#t17").formValidator(show));
	});	
}
function show(msg){
	var m = "";
	for(var i=0;i<msg.length;i++){
		m+=msg[i]+"\n";
	}
	alert(m);
	$("#msg").html(m);
}
function lgp(param){
	
	var v = param["$this"];
	alert(v+"=========="+param["name"]);
	return false;
}
</script>
<style type="text/css">
.valida{background:#FF3;}
</style>
</head>
<body>
<input onKeyUp="this.value=this.value.replace(/[^\.\d,\s]/g,'');if(this.value.split('.').length>2){this.value=this.value.split('.')[0]+'.'+this.value.split('.')[1]}"
 id="x63" />
<table width="200" border="1" align="center">
  <tr>
    <td>&nbsp;</td>
    <td >&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td align="center">&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>

<form name="frm1">
<input type="radio" value="x"  class="rd" name="rd">
<input type="radio" value="y" class="rd" name="rd">
</form>

<div id="msg"></div>
<div id="t17">
	<div><input valida="isAjax" id="input1" validaParam='{"url":"test.json"}' validaMsg="xx必须为数字"/><em></em></div>
    <div><input valida="isNotNull" id="input2" validaMsg="yy不能为空"/><em></em></div>
    
    <div><input type="button" id="valida"  value="验证"/></div>
    <div><input type="button" id="valida1" value="验证"/></div>
    
</div>
<div id="test42" prism:type="dataGrid" prism:src="test.json">
<b>#@id#</b><i>#@name#</i><br>
<input value="#@id#">
<input value="#@name#"> 

</div>
</body>
</html>
